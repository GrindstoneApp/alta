<div class="page-container">
  <div class="nav-container">
    <div class="nav-content-container">
      <div class="navbar-left-container">
        <div class="title-container">
          <div class="logo-container">
            <img src="/assets/logo-white.png" alt="Grindstone Logo">
          </div>
          <h1>Grindstone</h1>
        </div>
      </div>
      <div class="navbar-right-container">
        <button class="preview-button">
          <svg xmlns="http://www.w3.org/2000/svg" width="192" height="192" fill="#000000" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><path d="M247.31055,124.75061c-.35157-.79-8.81934-19.57617-27.65332-38.41113C194.57324,61.25256,162.87793,47.99182,128,47.99182S61.42676,61.25256,36.34277,86.33948c-18.834,18.835-27.30175,37.62109-27.65332,38.41113a8.00282,8.00282,0,0,0,0,6.49805c.35157.791,8.82032,19.57226,27.6543,38.40429C61.42773,194.734,93.12207,207.99182,128,207.99182S194.57227,194.734,219.65625,169.653c18.834-18.832,27.30273-37.61328,27.6543-38.40429A8.00282,8.00282,0,0,0,247.31055,124.75061ZM128,92.00061a36,36,0,1,1-36,36A36.04061,36.04061,0,0,1,128,92.00061Z"></path></svg>
        </button>
        <button class="share-link-button">
          <svg xmlns="http://www.w3.org/2000/svg" width="192" height="192" fill="#000000" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><path d="M132.49413,61.28047l9.648-9.648a44,44,0,1,1,62.22539,62.22539l-30.28427,30.28428a44,44,0,0,1-62.2254,0" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></path><path d="M123.50407,194.72133l-9.64621,9.6462a44,44,0,1,1-62.22539-62.22539l30.28427-30.28428a44,44,0,0,1,62.2254,0" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></path></svg>
        </button>
      </div>
    </div>
  </div>
  <div class="editor-container">
    <div class="sidebar-container">
      <div class="sidebar-form-container">
        <button class="change-profile-image-button">
          <div class="profile-image" [ngStyle]="{'background-image': 'url(' + user.get().profile_image_url + ')'}"></div>
          <p class="button-text">Change profile picture</p>
        </button>
        <div class="form-input-container">
          <input type="text" data-profileKey="display_name" [value]="profileFormData.display_name" id="profile-name-input" (focus)="formInputFocused($event)" (blur)="formInputBlurred($event);" (input)="formKeyup($event);">
          <p class="label" [ngClass]="{'active': oldProfileFormData.display_name?.length || 0 > 0}">Full Name</p>
        </div>
        <div class="form-input-container">
          <input type="text" data-profileKey="pronouns" [value]="profileFormData.pronouns" id="profile-pronouns-input" (focus)="formInputFocused($event)" (blur)="formInputBlurred($event);" (input)="formKeyup($event);">
          <p class="label" [ngClass]="{'active': oldProfileFormData.pronouns?.length || 0 > 0}">Pronouns</p>
        </div>
        <div class="form-input-container">
          <textarea type="text" data-profileKey="bio" [value]="profileFormData.bio" id="profile-bio-input" [maxLength]="maxBioCharacterCount" (keydown)="preventEnterKey($event);" (input)="trackBioWordCount($event); formKeyup($event);" (focus)="formInputFocused($event)" (blur)="formInputBlurred($event);" data-gramm_editor="false" data-enable-grammarly="false" data-gramm="false"></textarea>
          <p class="label" [ngClass]="{'active': oldProfileFormData.bio?.length || 0 > 0}">Biography</p>
          <p class="bio-word-counter" *ngIf="bioCharacterCount > 0">{{bioCharacterCount}}/{{maxBioCharacterCount}}</p>
        </div>
        <div class="form-input-container">
          <input type="text" data-profileKey="location" [value]="profileFormData.location" id="profile-location-input" (focus)="formInputFocused($event)" (blur)="formInputBlurred($event);" (input)="formKeyup($event);">
          <p class="label" [ngClass]="{'active': oldProfileFormData.location?.length || 0 > 0}">Location</p>
        </div>
        <div class="form-input-container">
          <input type="text" data-profileKey="external_link" [value]="profileFormData.external_link" id="profile-website-input" (focus)="formInputFocused($event)" (blur)="formInputBlurred($event);" (input)="formKeyup($event);">
          <p class="label" [ngClass]="{'active': oldProfileFormData.external_link?.length || 0 > 0}">Website URL</p>
        </div>
        <button class="show-email-button active" (click)="toggleShowEmail($event);" [ngClass]="{'active': profileFormData.display_email}">
          <div class="button-left-container">
            <div class="radio-button-dot"></div>
            <div class="radio-button-text-container">
              <p class="radio-button-text-title">Show email:</p>
              <p class="radio-button-text-description">{{user.get().email}}</p>
            </div>
          </div>
        </button>
      </div>
      <button class="save-button" (click)="saveProfileData($event);" [ngClass]='{"saving": saveButtonStatus === "saving", "disabled": saveButtonStatus === "disabled"}'>
        <div class="loader-icon"></div>
        <p>Save</p>
      </button>
    </div>
    <div class="module-editor-container"></div>
  </div>
</div>

<app-tutorial></app-tutorial>